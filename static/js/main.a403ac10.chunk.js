(this.webpackJsonporderpage=this.webpackJsonporderpage||[]).push([[0],{27:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),i=a(5),s=a(6),l=a(8),m=a(7),p=a(9),u=a(1),d=function(){return r.a.createElement("header",{className:"head"},r.a.createElement("h1",{className:"head__title"},"electronics world"))},h=function(e){var t=e.page,a=t.name,n=t.path,o=t.icon;return r.a.createElement(u.b,{to:n,className:"menu__link"},r.a.createElement("li",{className:"menu__item"},r.a.createElement("p",{className:"menu__name"},a),r.a.createElement("i",{className:"".concat(o," menu__icon")})))},_=function(){var e=[{name:"phone",path:"/mobile-phones",icon:"fas fa-mobile"},{name:"tv",path:"/TVs",icon:"fas fa-tv"},{name:"camera",path:"/cameras",icon:"fas fa-camera"},{name:"computer",path:"/computers",icon:"fas fa-laptop"},{name:"accessory",path:"/accessories",icon:"fas fa-headphones"}].map((function(e,t){return r.a.createElement(h,{key:t,page:e})}));return r.a.createElement("nav",{className:"menu"},r.a.createElement("ul",{className:"menu__item-list"},e))},f=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"copyright"},r.a.createElement("p",{className:"copyright__text"},"DevelopMeg 2019 \xa9 All right reserved")))},E=a(21),b=a(16),g=a.n(b),N=a(11),y=function(){return r.a.createElement("section",{className:"section-welcome"},r.a.createElement("h2",{className:"section-welcome__title"},"welcome to the shop"),r.a.createElement("h3",{className:"section-welcome__subtitle"},"we invite you to check our product offer"),r.a.createElement("div",{className:"section-welcome__box-image"}))},v=function(e){var t=e.phone,a=t.name,n=t.oldPrice,o=t.price,c=t.id,i=t.image,s=Math.ceil((o-n)/n*100);return r.a.createElement("article",{className:"product"},r.a.createElement("div",{className:"product__box-image",style:{backgroundImage:"url(".concat(i,")")}}),r.a.createElement("h5",{className:"product__title"},a),r.a.createElement("div",{className:"product__box-text"},r.a.createElement("p",{className:"product__text product__text--old-price"},n," $"),r.a.createElement("p",{className:"product__text product__text--price"},o," $"),r.a.createElement("p",{className:"product__text product__text--promotion"},s," %")),r.a.createElement(u.b,{to:"/phone-".concat(c),className:"link"},r.a.createElement("button",{className:"product__info-btn",onClick:function(){return e.handleOpenMoreInfo(c)}},"more info")))},C=function(e){var t=e.dataPhone.map((function(t,a){return r.a.createElement(v,{key:a,phone:t,handleOpenMoreInfo:e.handleOpenMoreInfo})}));return r.a.createElement("section",{className:"section-products-list"},0!==e.orderPosition.length&&r.a.createElement(u.b,{to:"/shopping-cart",className:"link"},r.a.createElement("div",{className:"icon-cart__box"},r.a.createElement("i",{className:"fas fa-shopping-cart icon-cart__icon"}))),r.a.createElement("h4",{className:"section-products-list__title"},"mobile phone list"),t)},P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={colorsArr:[],capacitiesArr:[],productPrice:0,productTotalPrice:0,productColor:"",productCapacity:"",extraCostColor:0,extraCostCapacity:0,colorsId:"",capacitiesId:"",chooseColorId:"",chooseCapacityId:""},a.handleCreateProductParameters=function(){var e=a.props.phone,t=e.options,n=e.price,r=[],o=[],c="",i="";t.forEach((function(e){"Color"===e.name?c=e.id:"Capacity"===e.name&&(i=e.id),e.values.forEach((function(t){"Color"===e.name?r.push(t):"Capacity"===e.name&&o.push(t)}))})),a.setState({colorsId:c,capacitiesId:i,productPrice:n,colorsArr:r,capacitiesArr:o})},a.handleChooseColor=function(e,t,n){a.setState({chooseColorId:e,productColor:t,extraCostColor:n})},a.handleChooseCapacity=function(e,t,n){a.setState({chooseCapacityId:e,productCapacity:t,extraCostCapacity:n})},a.handleTotalPrice=function(){a.setState((function(e){return{productTotalPrice:e.productPrice+e.extraCostColor+e.extraCostCapacity}}))},a.handleClearInfoProduct=function(){a.setState({colorsArr:[],capacitiesArr:[],productPrice:0,productTotalPrice:0,productColor:"",productCapacity:"",extraCostColor:0,extraCostCapacity:0})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleCreateProductParameters()}},{key:"render",value:function(){var e=this,t=this.props.phone,a=t.id,n=t.name,o=t.oldPrice,c=t.price,i=t.image,s=this.state,l=s.productPrice,m=s.productTotalPrice,p=s.colorsArr,d=s.capacitiesArr,h=s.productColor,_=s.productCapacity,f=s.extraCostCapacity,E=s.extraCostColor,b=s.colorsId,g=s.capacitiesId,N=s.chooseCapacityId,y=s.chooseColorId,v=Math.ceil((c-o)/o*100),C=p.map((function(t,a){return r.a.createElement("div",{key:a,className:h===t.name?"color-info__box-name color-info__box-name--selected":"color-info__box-name",cost:"+".concat(t.priceModifier,"$"),onClick:function(a){e.handleChooseColor(t.id,t.name,t.priceModifier),e.handleTotalPrice()}},r.a.createElement("p",{className:"color-info__name"},t.name))})),P=d.map((function(t,a){return r.a.createElement("div",{key:a,className:_===t.name?"capacity-info__box-name capacity-info__box-name--selected":"capacity-info__box-name",cost:"+".concat(t.priceModifier,"$"),onClick:function(){e.handleChooseCapacity(t.id,t.name,t.priceModifier),e.handleTotalPrice()}},r.a.createElement("p",{className:"capacity-info__name"},t.name))}));return r.a.createElement("section",{className:"section-products-info"},0!==this.props.orderPosition.length&&r.a.createElement(u.b,{to:"/shopping-cart",className:"link"},r.a.createElement("div",{className:"icon-cart__box"},r.a.createElement("i",{className:"fas fa-shopping-cart icon-cart__icon"}))),r.a.createElement(u.b,{to:"/mobile-phones",className:"link link--info-return"},r.a.createElement("button",{onClick:this.handleClearInfoProduct,className:"return__btn return__btn--info"},"return")),r.a.createElement("h4",{className:"section-products-info__title"},"more info about ",n," "),r.a.createElement("div",{className:"section-products-info__box-image",style:{backgroundImage:"url(".concat(i,")")}}),r.a.createElement("div",{className:"section-products-info__box-parameters"},r.a.createElement("section",{className:"price-info"},r.a.createElement("h5",{className:"price-info__title"},"price"),r.a.createElement("p",{className:"price-info__text price-info__text--old-price"},o," $"),r.a.createElement("p",{className:"price-info__text price-info__text--price"},c," $"),r.a.createElement("p",{className:"price-info__text price-info__text--promotion"},v," %")),r.a.createElement("section",{className:"color-info"},r.a.createElement("h5",{className:"color-info__title"},"color"),C),r.a.createElement("section",{className:"capacity-info"},r.a.createElement("h5",{className:"capacity-info__title"},"capacity"),P),r.a.createElement("h5",{className:"total-price-info"},"total price:",r.a.createElement("span",{className:"total-price-info__price"}," ",m||l," $")),r.a.createElement(u.b,{to:"shopping-cart",className:"link link--add-cart"},r.a.createElement("button",{disabled:!h||!_,className:"add-cart-btn",onClick:function(){e.props.handleAddProductToCart(a,n,h,_,l,m,E,f),e.props.handleInfoIdForm(a,b,g,y,N,m)}},"add to cart"))))}}]),t}(n.Component),x=function(e){var t=e.order,a=t.name,n=t.color,o=t.capacity,c=t.price,i=t.totalPrice,s=t.extraCostColor,l=t.extraCostCapacity;return r.a.createElement("div",{className:"product-cart"},r.a.createElement("p",{className:"product-cart__name"},a),r.a.createElement("p",{className:"product-cart__price"},c," $"),r.a.createElement("div",{className:"product-cart__parameters"},r.a.createElement("p",{className:"product-cart__color"},n," - ",s," $"),r.a.createElement("p",{className:"product-cart__capacity"},o," - ",l," $")),r.a.createElement("p",{className:"product-cart__total-price"},i," $"))},I=function(e){var t=e.orderPosition.map((function(e,t){return r.a.createElement("li",{key:t,className:"shopping-cart__item"},r.a.createElement(x,{order:e}))}));return r.a.createElement("section",{className:"section-shopping-cart"},r.a.createElement(u.b,{to:"/mobile-phones",className:"link"},r.a.createElement("button",{className:"return__btn return-btn--cart"},"return")),r.a.createElement("section",{className:"shopping-cart"},r.a.createElement("h4",{className:"shopping-cart__title"},"your shopping cart"),r.a.createElement("div",{className:"shopping-cart__box-subtitle"},r.a.createElement("p",{className:"shopping-cart__subtitle shopping-cart__subtitle--product"},"product"),r.a.createElement("p",{className:"shopping-cart__subtitle shopping-cart__subtitle--price"},"price"),r.a.createElement("p",{className:"shopping-cart__subtitle shopping-cart__subtitle--parameters"},"parameters"),r.a.createElement("p",{className:"shopping-cart__subtitle shopping-cart__subtitle--totality"},"totality")),r.a.createElement("ol",{className:"shopping-cart__list"},t)),r.a.createElement("p",{className:"shopping-cart__value-purchases"},"value of purchases:"," ",r.a.createElement("span",{className:"shopping-cart__value-purchases--price"},e.totalPriceCart," $"," ")),r.a.createElement(u.b,{to:"/shopping-form",className:"link"},r.a.createElement("button",{className:"shopping-cart__buy-btn"},r.a.createElement("span",{className:"shopping-cart__buy-btn-text"},"buy"))))},k=a(14),O=a(13),j=a(26),w=a.n(j),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",surname:"",email:"",street:"",houseNumber:"",city:"",postcode:"",submitDone:!1,errors:{nameErr:!1,surnameErr:!1,emailValid:"",streetErr:!1,houseNumberErr:!1,cityErr:!1,postcodeErr:!1}},a.handleChangeValue=function(e){var t=e.target.type,n=e.target.name;"checkbox"===t||"radio"===t?a.setState(Object(O.a)({},n,e.target.checked)):a.setState(Object(O.a)({},n,e.target.value))},a.handleValidation=function(e){var t=a.state,n=t.email,r=t.errors,o=e.target.value,c=e.target.getAttribute("invalid");o.length?a.setState({errors:Object(k.a)({},r,Object(O.a)({},c,!1))}):a.setState({errors:Object(k.a)({},r,Object(O.a)({},c,!0))}),"emailErr"!==c||o.length?"emailErr"!==c||n.includes("@")?"emailErr"===c&&n.includes("@")&&o.length&&a.setState({errors:Object(k.a)({},r,{emailValid:""})}):a.setState({errors:Object(k.a)({},r,{emailValid:"email should contain @"})}):a.setState({errors:Object(k.a)({},r,{emailValid:"email can`t be empty"})})},a.handleSubmitForm=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.surname,o=t.email,c=t.street,i=t.houseNumber,s=t.city,l=t.postcode,m=a.state.errors.emailValid;n&&r&&o&&c&&i&&s&&l&&""===m?(console.log({user:{name:{name:n},surname:{surname:r},email:{email:o},address:{street:{street:c},houseNumber:{houseNumber:i},city:{city:s},postcode:{postcode:l}}}}),a.props.formInfoId.forEach((function(e){console.log({product:{id:e.idProduct,options:[{id:e.colorsId,value:e.colorId},{id:e.capacitiesId,value:e.capacityId}],amount:e.totalPrice}})})),a.setState({name:"",surname:"",email:"",street:"",houseNumber:"",city:"",postcode:"",submitDone:!0})):alert("you must properly fill form")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.surname,n=e.email,o=e.street,c=e.houseNumber,i=e.city,s=e.postcode,l=e.submitDone,m=this.state.errors,p=m.nameErr,d=m.surnameErr,h=m.emailValid,_=m.streetErr,f=m.houseNumberErr,E=m.cityErr,b=m.postcodeErr;return r.a.createElement("section",{className:"section-shopping-form"},!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/shopping-cart",className:"link"},r.a.createElement("div",{className:"icon-cart__box"},r.a.createElement("i",{className:"fas fa-shopping-cart icon-cart__icon"}))),r.a.createElement("h4",{className:"section-shopping-form__title"},"shopping form"),r.a.createElement("form",{className:"shopping-form",noValidate:!0,onSubmit:this.handleSubmitForm},r.a.createElement("div",{className:"shopping-form__box-basic"},r.a.createElement("label",{htmlFor:"name",className:"shopping-form__title shopping-form__title--basic-one"},"name"),r.a.createElement("input",{id:"name",className:"shopping-form__input shopping-form__input--basic-one",name:"name",type:"text",invalid:"nameErr",value:t,onChange:this.handleChangeValue,onBlur:this.handleValidation}),p&&r.a.createElement("span",{className:"shopping-form__invalid shopping-form__invalid--basic-one"},"name can`t be empty"),r.a.createElement("label",{htmlFor:"surname",className:"shopping-form__title shopping-form__title--basic-two"},"surname"),r.a.createElement("input",{id:"surname",className:"shopping-form__input shopping-form__input--basic-two",name:"surname",type:"text",invalid:"surnameErr",value:a,onChange:this.handleChangeValue,onBlur:this.handleValidation}),d&&r.a.createElement("span",{className:"shopping-form__invalid shopping-form__invalid--basic-two"},"surname can`t be empty"),r.a.createElement("label",{htmlFor:"email",className:"shopping-form__title shopping-form__title--basic-three"},"email"),r.a.createElement("input",{id:"email",className:"shopping-form__input shopping-form__input--basic-three",name:"email",type:"text",invalid:"emailErr",value:n,onChange:this.handleChangeValue,onBlur:this.handleValidation}),h&&r.a.createElement("span",{className:"shopping-form__invalid shopping-form__invalid--basic-three"},h)),r.a.createElement("fieldset",{className:"shopping-form__fieldset"},r.a.createElement("legend",{className:"shopping-form__legend"},"address"),r.a.createElement("div",{className:"shopping-form__box-address "},r.a.createElement("div",{className:"shopping-form__box-street"},r.a.createElement("label",{htmlFor:"street",className:"shopping-form__title shopping-form__title--address"},"street"),r.a.createElement("input",{id:"street",className:"shopping-form__input shopping-form__input--address",name:"street",type:"text",invalid:"streetErr",value:o,onChange:this.handleChangeValue,onBlur:this.handleValidation}),_&&r.a.createElement("span",{className:"shopping-form__invalid"},"street can`t be empty")),r.a.createElement("div",{className:"shopping-form__box-number"},r.a.createElement("label",{htmlFor:"houseNumber",className:"shopping-form__title shopping-form__title--address"},"number"),r.a.createElement("input",{id:"houseNumber",className:"shopping-form__input shopping-form__input--address",name:"houseNumber",type:"text",invalid:"houseNumberErr",value:c,onChange:this.handleChangeValue,onBlur:this.handleValidation}),f&&r.a.createElement("span",{className:"shopping-form__invalid"},"number can`t be empty")),r.a.createElement("div",{className:"shopping-form__box-city"},r.a.createElement("label",{htmlFor:"city",className:"shopping-form__title shopping-form__title--address"},"city"),r.a.createElement("input",{id:"city",className:"shopping-form__input shopping-form__input--address",name:"city",type:"text",invalid:"cityErr",value:i,onChange:this.handleChangeValue,onBlur:this.handleValidation}),E&&r.a.createElement("span",{className:"shopping-form__invalid"},"city can`t be empty")),r.a.createElement("div",{className:"shopping-form__box-postcode"},r.a.createElement("label",{htmlFor:"postcode",className:"shopping-form__title shopping-form__title--address"},"post code"),r.a.createElement(w.a,{id:"postcode",className:"shopping-form__input shopping-form__input--address",mask:"99-999",name:"postcode",invalid:"postcodeErr",maskChar:null,value:s,onChange:this.handleChangeValue,onBlur:this.handleValidation}),b&&r.a.createElement("span",{className:"shopping-form__invalid"},"postcode can`t be empty")))),r.a.createElement("input",{type:"submit",className:"shopping-form__submit",value:"submit"}))),l&&r.a.createElement(u.b,{to:"/",className:"link"},r.a.createElement("button",{className:"buy-again",onClick:this.props.handleBuyAgain},"buy again")))}}]),t}(n.Component),V=function(){return r.a.createElement("div",{className:"section-error"},r.a.createElement("p",{className:"section-error__text"},"Unfortunately there is no such page"))},A=function(){return r.a.createElement("div",{className:"section-error"},r.a.createElement("p",{className:"section-error__text"},"Unfortunately data didn't download"))},D=function(){return r.a.createElement("section",{className:"section-loader"},r.a.createElement("h3",{className:"section-loader__title"},"loading..."))},M=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),F=Object(N.f)(M),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={dataPhone:[],loadingDataPhone:!1,errorDataPhone:!1,productIdMoreInfo:"",orderPosition:[],totalPriceCart:0,formInfoId:[]},a.handleGetDataPhone=function(){var e,t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({loadingDataPhone:!0}),n.prev=1,n.next=4,g.a.awrap(fetch("./data/products.json"));case 4:return e=n.sent,n.next=7,g.a.awrap(e.json());case 7:if(t=n.sent,e.ok){n.next=10;break}throw new Error;case 10:return n.abrupt("return",a.setState({dataPhone:t,loadingDataPhone:!1}));case 13:return n.prev=13,n.t0=n.catch(1),n.abrupt("return",a.setState({errorDataPhone:!0,loadingDataPhone:!1}));case 16:case"end":return n.stop()}}),null,null,[[1,13]])},a.handleOpenMoreInfo=function(e){a.setState({productIdMoreInfo:e})},a.handleAddProductToCart=function(e,t,n,r,o,c,i,s){var l={name:t,color:n,capacity:r,price:o,totalPrice:c,extraCostColor:i,extraCostCapacity:s};a.setState((function(e){return{orderPosition:[].concat(Object(E.a)(e.orderPosition),[l])}}))},a.handleInfoIdForm=function(e,t,n,r,o,c){var i={idProduct:e,colorsId:t,capacitiesId:n,colorId:r,capacityId:o,totalPrice:c};a.setState((function(e){return{formInfoId:[].concat(Object(E.a)(e.formInfoId),[i])}}))},a.handleBuyAgain=function(){a.setState({productIdMoreInfo:"",orderPosition:[],totalPriceCart:0,formInfoId:[]})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleGetDataPhone()}},{key:"componentDidUpdate",value:function(e,t){if(t.orderPosition!==this.state.orderPosition&&0!==this.state.orderPosition.length){var a=this.state.orderPosition.map((function(e){return e.totalPrice})).reduce((function(e,t){return e+t})).toFixed(2);this.setState({totalPriceCart:a})}}},{key:"render",value:function(){var e=this;if(this.state.errorDataPhone)return r.a.createElement(A,null);if(this.state.loadingDataPhone)return r.a.createElement(D,null);var t=this.state,a=t.dataPhone,n=t.productIdMoreInfo,o=t.orderPosition,c=t.totalPriceCart,i=t.formInfoId;return r.a.createElement(F,null,r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/",exact:!0,component:y}),r.a.createElement(N.a,{path:"/mobile-phones",render:function(){return r.a.createElement(C,{dataPhone:a,handleOpenMoreInfo:e.handleOpenMoreInfo,orderPosition:o})}}),r.a.createElement(N.a,{path:"/phone-".concat(n),render:function(){var t=a.filter((function(e){return e.id===n}));return r.a.createElement(P,{phone:t[0],handleAddProductToCart:e.handleAddProductToCart,handleInfoIdForm:e.handleInfoIdForm,orderPosition:o})}}),r.a.createElement(N.a,{path:"/shopping-cart",render:function(){return r.a.createElement(I,{orderPosition:o,totalPriceCart:c})}}),r.a.createElement(N.a,{path:"/shopping-form",render:function(){return r.a.createElement(S,{formInfoId:i,handleBuyAgain:e.handleBuyAgain})}}),r.a.createElement(N.a,{component:V})))}}]),t}(n.Component),B=(a(39),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(u.a,{basename:"/electronics-world"},r.a.createElement(d,null),r.a.createElement(_,null),r.a.createElement("main",{className:"main"},r.a.createElement(T,null)),r.a.createElement(f,null)))}}]),t}(n.Component));c.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a403ac10.chunk.js.map